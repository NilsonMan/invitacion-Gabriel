<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Invitación XV Años - Emanuel</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  html,body{
    height:100%;
    font-family:'Poppins',sans-serif;
    background:#0a0a0a;
    color:#0ff;
    overflow-x:hidden;
    overflow-y: hidden; /* evitar scroll al inicio */
    display:flex;
    justify-content:center;
    align-items:center;
  }

  #scroll-container::-webkit-scrollbar {
    display: none;
  }
  #scroll-container {
    -ms-overflow-style: none;  /* IE y Edge */
    scrollbar-width: none;     /* Firefox */
  }

  #envelope-container {
    width:320px;
    height:420px;
    perspective:1500px;
    position: relative;
    user-select:none;
    cursor: pointer;
    z-index:50;
    transition: all 1s ease;
  }
  #envelope {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0a0a0a 40%, #004d4d 100%);
    border-radius: 12px;
    box-shadow: 0 0 20px #0ff;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1s ease;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  /* Sobre cerrado: tapa triangular */
  #envelope::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 160px solid transparent;
    border-right: 160px solid transparent;
    border-bottom: 140px solid #006666;
    box-shadow: 0 0 10px #0ff inset;
    border-radius: 12px 12px 0 0;
    transform-origin: bottom center;
    transform-style: preserve-3d;
    transition: transform 1s ease, opacity 0.5s ease;
    z-index: 20;
  }
  /* Estado abierto: girar tapa para revelar contenido */
  #envelope.open::before {
    transform: translateX(-50%) rotateX(-160deg);
    box-shadow: 0 0 30px #0ff inset;
    border-bottom-color: transparent;
    cursor: default;
    opacity: 0;
    pointer-events: none;
    z-index: -1;
  }

  /* Texto visible cuando está cerrado (sobre cerrado) */
  #closed-text {
    position: relative;
    z-index: 25;
    font-family: 'Great Vibes', cursive;
    font-size: 2rem;
    color: #0ff;
    text-shadow: 0 0 8px #0ff, 0 0 15px #0ff;
    text-align: center;
    user-select:none;
    padding: 0 1rem;
  }

  /* Papel invitación */
  #content {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 280px;
    height: 350px;
    background: #070707cc;
    border-radius: 0 0 12px 12px;
    box-shadow: 0 0 15px #0ff;
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.7);
    transition: 
      opacity 1s ease 0.5s,
      transform 1s ease 0.5s,
      width 1s ease 0.5s,
      height 1s ease 0.5s,
      top 1s ease 0.5s,
      left 1s ease 0.5s,
      border-radius 1s ease 0.5s;
    overflow-y: hidden;
    padding: 0;
    color: #0ff;
    z-index: 10;
    cursor: default;
    display: flex;
    flex-direction: column;
  }
  #content.visible {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    width: 100vw;
    height: 100vh;
    top: 50%;
    left: 50%;
    border-radius: 0;
    overflow-y: auto;
    padding: 2rem 4rem;
  }

  /* Secciones internas de invitación */
  .section{
    height: 100vh;
    width: 100vw;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:2rem;
    text-align:center;
    position: relative;
    z-index: 10;
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 1s ease, transform 1s ease, filter 1s ease;
    scroll-snap-align: start;
    flex-shrink: 0;
  }
  .section.visible {
    opacity: 1;
    transform: translateY(0);
  }
  #section1 h1{
    font-family:'Great Vibes',cursive;
    font-size:5rem;
    color:#0ff;
    text-shadow:0 0 8px #0ff,0 0 20px #0ff;
    animation:neonFlicker 3s infinite alternate;
  }
  #section1 p.subtitle{
    font-size:1.8rem;
    margin-top:1rem;
    font-weight:600;
    color:#33ffffcc;
    letter-spacing:0.1em;
    font-style:italic;
  }
  #section1 .highlight{
    font-family:'Great Vibes',cursive;
    font-size:4rem;
    margin-top:1.2rem;
    color:#0ff;
    text-shadow:0 0 10px #0ff,0 0 30px #0ff;
    font-style:italic;
  }
  #section1.dimmed {
    filter: brightness(0.5);
    opacity: 0.6;
  }
  #section2{background:#070707cc;}
  #section2 h2{
    font-weight:700;
    font-size:3rem;
    margin-bottom:1rem;
    text-shadow:0 0 8px #0ff;
    color: #0ff;
  }
  #section2 p{
    max-width:600px;
    margin:1rem auto;
    font-size:1.4rem;
    color:#44ffffcc;
    line-height:1.6;
  }
  #section3{
    background:#000c14;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:1rem;
  }
  #section3 h2{
    font-weight:700;
    font-size:3rem;
    margin-bottom:0.5rem;
    text-shadow:0 0 8px #0ff;
    color: #0ff;
  }
  #section3 p{
    font-size:1.3rem;
    color:#33ffffcc;
    margin-bottom:0.5rem;
  }
  #map-container{
    width:90vw;
    max-width:600px;
    height:350px;
    border-radius:10px;
    box-shadow:0 0 15px #0ff;
    overflow:hidden;
    margin-top: 1rem;
  }

  /* Scroll container para el contenido */
  #scroll-container {
    flex: 1;
    overflow-y: auto;
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
  }

  /* Botón abrir y cerrar */
  #open-button, #close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    background:#0ff;
    color:#000;
    border:none;
    padding:0.6rem 1.2rem;
    border-radius: 6px;
    font-weight:700;
    font-size:1.1rem;
    cursor:pointer;
    box-shadow: 0 0 12px #0ff;
    transition: background-color 0.3s ease;
    z-index: 30;
    user-select:none;
  }
  #open-button:hover, #close-button:hover {
    background:#44ffff;
  }
  #close-button {
    display:none;
  }

  #envelope-container.fullscreen {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Partículas */
  #particles{
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    z-index:1;
    pointer-events:none;
  }

  @keyframes neonFlicker{
    0%,100%{text-shadow:0 0 8px #0ff,0 0 20px #0ff;opacity:1}
    50%{text-shadow:0 0 12px #0ff,0 0 30px #0ff;opacity:0.85}
  }

  body::-webkit-scrollbar {
    width: 0;
    background: transparent;
  }
</style>
</head>
<body>
  <div id="particles"></div>
  <div id="envelope-container" aria-label="Invitación en sobre">
    <div id="envelope">
      <button id="open-button" aria-label="Abrir invitación">Abrir Invitación</button>
      <button id="close-button" aria-label="Cerrar invitación">Cerrar</button>
      <div id="closed-text">Toca "Abrir Invitación" para ver la invitación completa</div>
      <div id="content" tabindex="0" role="region" aria-live="polite" aria-label="Contenido de la invitación">
        <div id="scroll-container">
          <section id="section1" class="section">
            <h1>Estás invitado!</h1>
            <p class="subtitle">A los inolvidables XV años de</p>
            <div class="highlight">Emanuel Hernández</div>
          </section>
          <section id="section2" class="section">
            <h2>¡No te lo puedes perder!</h2>
            <p>Ven a celebrar una noche inolvidable con música en vivo, deliciosa comida y la mejor compañía.</p>
            <p>Habrá sorpresas, regalos y momentos para recordar toda la vida.</p>
            <p>Confirma tu asistencia y prepárate para divertirte a lo grande.</p>
          </section>
          <section id="section3" class="section">
            <h2>Ubicación</h2>
            <p>Salón "Luna Real", Ciudad de México</p>
            <a id="map-link" href="https://maps.app.goo.gl/KN6QDAJpS1XiAnY98?g_st=com.google.maps.preview.copy" target="_blank" rel="noopener noreferrer">
              <svg class="map-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.22-2.5 5.44-5 8.55C9.5 14.44 7 11.22 7 9z"/><circle cx="12" cy="9" r="2.5"/></svg>
              Ver en Google Maps
            </a>
            <div id="map-container">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3762.7332981522046!2d-99.16699958473558!3d19.43329704306868!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1ff5b3c5f3db3%3A0xe1db83710e8260f3!2sSal%C3%B3n%20Luna%20Real!5e0!3m2!1ses!2smx!4v1688423451981!5m2!1ses!2smx" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <a id="mobile-map-button" href="https://maps.app.goo.gl/KN6QDAJpS1XiAnY98?g_st=com.google.maps.preview.copy" target="_blank">Abrir mapa en Google Maps</a>
          </section>
        </div>
      </div>
    </div>
  </div>

<audio id="audio" loop preload="auto">
  <source src="no_crezcas_mas.mp3" type="audio/mpeg">
</audio>




<script>
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  const particlesDiv = document.getElementById('particles');
  let w, h;
  let particlesArray = [];

  function resize() {
    w = window.innerWidth;
    h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;
  }

  window.addEventListener('resize', resize);
  resize();
  particlesDiv.appendChild(canvas);

  class Particle {
    constructor() {
      this.x = Math.random() * w;
      this.y = Math.random() * h;
      this.radius = Math.random() * 1.5 + 0.5;
      this.speedX = (Math.random() - 0.5) * 0.3;
      this.speedY = (Math.random() - 0.5) * 0.3;
      this.opacity = Math.random();
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;

      if (this.x > w) this.x = 0;
      else if (this.x < 0) this.x = w;
      if (this.y > h) this.y = 0;
      else if (this.y < 0) this.y = h;

      this.opacity += (Math.random() - 0.5) * 0.05;
      this.opacity = Math.min(Math.max(this.opacity, 0.2), 1);
    }

    draw() {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(0, 255, 255, ${this.opacity})`;
      ctx.shadowColor = '#0ff';
      ctx.shadowBlur = 6;
      ctx.fill();
    }
  }

  function initParticles() {
    particlesArray = [];
    for (let i = 0; i < 120; i++) {
      particlesArray.push(new Particle());
    }
  }

  function animateParticles() {
    ctx.clearRect(0, 0, w, h);
    particlesArray.forEach(p => {
      p.update();
      p.draw();
    });
    requestAnimationFrame(animateParticles);
  }

  initParticles();
  animateParticles();
  const openBtn = document.getElementById('open-button');
  const closeBtn = document.getElementById('close-button');
  const envelope = document.getElementById('envelope');
  const container = document.getElementById('envelope-container');
  const content = document.getElementById('content');
  const audio = document.getElementById('audio');
  const closedText = document.getElementById('closed-text');

  openBtn.addEventListener('click', () => {
    envelope.classList.add('open');
    content.classList.add('visible');
    openBtn.style.display = 'none';
    closeBtn.style.display = 'block';
    closedText.style.display = 'none';

    container.classList.add('fullscreen');  // <-- Agregamos clase
    container.style.width = '100vw';
    container.style.height = '100vh';
    container.style.position = 'fixed';
    container.style.top = '0';
    container.style.left = '0';
    container.style.zIndex = '100';

    envelope.style.width = '100%';
    envelope.style.height = '100%';
    document.body.style.overflow = 'hidden';

    audio.play().catch(() => {});
  });

  closeBtn.addEventListener('click', () => {
    envelope.classList.remove('open');
    content.classList.remove('visible');
    closeBtn.style.display = 'none';
    openBtn.style.display = 'block';
    closedText.style.display = 'block';

    container.classList.remove('fullscreen');  // <-- Quitamos clase
    container.style.width = '320px';
    container.style.height = '420px';
    container.style.position = 'relative';
    container.style.top = 'auto';
    container.style.left = 'auto';
    container.style.zIndex = '50';

    envelope.style.width = '100%';
    envelope.style.height = '100%';
    document.body.style.overflow = 'auto';

    audio.pause();
    audio.currentTime = 0;
  });

  // Observer para animar secciones al hacer scroll (igual)
  const sections = document.querySelectorAll('.section');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, {
    threshold: 0.2
  });

  sections.forEach(section => observer.observe(section));
</script>

